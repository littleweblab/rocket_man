////////////
// METHOD //
////////////
module.exports = function () {
  var names = "GET PUT POST DELETE HEAD".split( " " );

  function method( write, name ) {
    return fab.queue( function( yes ) {
      return fab.queue( function( no ) {
        return write( function( write, head, body ) {
          return ( head.method == name ? yes : no )( write, head, body );
        })();
      });
    });
  }
  
  for ( var i = names.length; i--; ) ( function( name ) {
    method[ name ] = function( write ) {
      return method( write, name );
    }
  })( names[ i ] ); 
   return  method; 
}();
