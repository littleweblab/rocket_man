////////////
// SERVER //
////////////
module.exports = function () {
  var map = {};
  for ( var i = arguments.length; i--; ) {
    var func = arguments[ i ].toString();
    
    if ( func.search(/\(\.*\).*\{/) !== -1 ){ 
      map[ arguments[ i ].name ] = 
        func.substring( func.indexOf( '{' ) + 1, func.lastIndexOf( '}' ) )
            .replace( /^\s+|\s+$/g, "" )
            ;
    } else global[ arguments[ i ].name ] = arguments[ i ];
  }//END LOOP 
 
  for ( var i in  map ) {//First loop trough the map of fab ( code )
    for ( var x in  map ) {  
      var re = new RegExp( "\\( *"+x.replace(/\$/ , '\\$')+" *\\)", 'g' );//Create regEx that will match on ( function_name )
      map[ i ] = map[ i ].replace( re, map[ x ] );//Replace ( function_name ) if it will be found in ( fab ) code of cur
    }//END LOOP
  }//END LOOP
  eval(  'with( fab )with( html )( run )()' + map[ arguments[ 0 ].name ] );
  console.log( '( fab )( server ) ... started.' );
}